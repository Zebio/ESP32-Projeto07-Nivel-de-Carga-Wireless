<!DOCTYPE html>
<html dir="ltr" lang="en-gb"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="utf-8"> 
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" type="image/x-icon" href="https://www.esp32.com/styles/Subway/theme/images/favicon.ico">
<meta name="description" content="Espressif ESP32 Official Forum">
<meta name="keywords" content="Espressif ESP32">

<title>ADC calibration with VREF - ESP32 Forum</title>

	<link rel="alternate" type="application/atom+xml" title="Feed - ESP32 Forum" href="https://www.esp32.com/app.php/feed">			<link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="https://www.esp32.com/app.php/feed?mode=topics">		<link rel="alternate" type="application/atom+xml" title="Feed - Forum - General Discussion" href="https://www.esp32.com/app.php/feed?f=2">	<link rel="alternate" type="application/atom+xml" title="Feed - Topic - ADC calibration with VREF" href="https://www.esp32.com/app.php/feed?f=2&amp;t=4354">
	

	<link rel="canonical" href="https://www.esp32.com/viewtopic.php?t=4354">

<!--
	phpBB style name: Subway
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:	  KomiDesign ( http://www.komidesign.com/ )
	Version:          2.0
-->

<link href="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/print.css" rel="stylesheet" type="text/css" media="print" title="printonly">

<link href="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/css.css" rel="stylesheet" type="text/css">

<link href="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/stylesheet_002.css" rel="stylesheet" type="text/css">
<link href="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/stylesheet.css" rel="stylesheet" type="text/css">
<link href="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/responsive.css" rel="stylesheet" type="text/css">

<!-- FONT ICONS -->
<link href="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/subway-icons.css" rel="stylesheet" type="text/css">



<!--[if lte IE 9]>
	<link href="./styles/Subway/theme/tweaks.css?assets_version=46" rel="stylesheet" type="text/css">
<![endif]-->

<link href="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/spectrum.css" rel="stylesheet" type="text/css">
<link href="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/subway_op.css" rel="stylesheet" type="text/css">
<style type="text/css">
/*LOGO OPTIONS*/
/*GENERAL OPTIONS*/
/*LAYOUT OPTIONS*/
	@media only screen and (min-width: 993px) {	
		#page-header { margin-left: 0;margin-right: 0;margin-top: 30px;padding: 0 10px;}.header3 #page-header .navbar-bottom {margin-left: -10px;margin-right: -10px;padding: 0;}
		#page-footer { margin: 30px 0;padding: 0 10px;}#wrap {padding: 0;box-shadow: 0 0 15px rgba(0, 0, 0, 0.06);}#page-body {padding: 0 10px;}
	}	
		
		#wrap { background-color: #ffffff;} 
		
/*SKIN OPTIONS*/
	
															
	body { background-color: #ffffff;}
	a,ul.topiclist li.row dt a.subforum.unread,
ul.topiclist li.row dt a.subforum.unread:before,
.imageset.icon_post_target_unread:before {color: #df7980;}
	a:hover {color: #91a8bd;}
	a.forumtitle:visited,a.topictitle:visited,dl.faq dd a:visited,.postlink:visited,
a.lastsubject:visited {color: #65b6d4;}
	.search-box .button:hover,#nav-main  > li > a,#nav-main  li.small-cube > a,
	#nav-main ul.dropdown-menu,#responsive-menu-button a,.cube-bg-1,.pagination li.active span,
	.s-tabs,.panel h2,.panel h3,.panel h4,.sheader h2,.sheader h3,.scontent,.pagination li a:hover, .pagination .dropdown-visible a.dropdown-trigger,
	.nojs .pagination .dropdown-container:hover a.dropdown-trigger,.contact-icons a:hover,.button:hover,
	a.arrow-left:hover,a.arrow-right:hover, .dropdown-visible .dropdown-select,
	.nojs .dropdown-container:hover .dropdown-select,.global_unread:before,
	.global_unread_mine:before,.global_unread_locked:before,.global_unread_locked_mine:before,
	.announce_unread:before,.announce_unread_mine:before,.announce_unread_locked:before,.announce_unread_locked_mine:before,.op_navigation li.tab a,
	.forum_unread:before,.forum_unread_locked:before,.forum_unread_subforum:before,.sticky_unread:before,
	.sticky_unread_mine:before,.sticky_unread_locked:before,.sticky_unread_locked_mine:before,
	.topic_unread:before,.topic_unread_mine:before,.topic_unread_hot:before,.topic_unread_hot_mine:before,
	.topic_unread_locked:before,.topic_unread_locked_mine:before,.pm_unread:before,#tabs .tab > a,
	input.button1:focus, input.button2:focus, input.button3:focus,a.button1:hover,#navigation a, 
	input.button1:hover, a.button2:hover, input.button2:hover, input.button3:hover,h3#review,
	.phpbb_alert,.stat-block > h3,.stat-block > h3,#page-body .mini-panel,#minitabs .tab > a,.dropdown-extended .header,.dropdown-extended .footer,.dark-skin .contact-icons a:hover, .dark-skin .button:hover, .dark-skin a.arrow-left:hover, .dark-skin a.arrow-right:hover, .dark-skin .pagination li a:hover, .dark-skin .dropdown-visible .dropdown-select, .dark-skin .nojs .dropdown-container:hover .dropdown-select, .dark-skin a.button1:hover, .dark-skin input.button1:hover, .dark-skin a.button2:hover, .dark-skin input.button2:hover, .dark-skin input.button3:hover,.header2 #nav-main li.small-cube:first-child > a,.header2 #nav-main li.small-cube:last-child > a,.header3 #page-header .navbar-bottom,.theme-subway .nivo-caption {background-color: #706e6d;}	.forumbg,.forabg,.socials li a:hover,.cube-bg-2,.section-index #nav-main .li-home > a,#nav-main > li > a:hover,#nav-main  li.small-cube > a:hover,#nav-main .dropdown-menu li a:hover,#nav-main > li.dropdown:hover > a,.dropdown-extended a.mark_read,.section-faq #nav-main .li-useful > a,.section-memberlist #nav-main .li-useful > a,.section-viewforum #nav-main .li-forum > a,.section-viewtopic #nav-main .li-forum > a,.section-search #nav-main .li-forum > a,#tabs .tab > a:hover,#tabs .activetab > a,#minitabs .activetab > a,#minitabs .activetab > a:hover,#navigation a:hover,#navigation #active-subsection a,body .options-panel #navigation .tab.activetab a,.bootstrap-switch .bootstrap-switch-handle-on.bootstrap-switch-btn-theme, .bootstrap-switch .bootstrap-switch-handle-off.bootstrap-switch-btn-theme,.header2 #nav-main li.small-cube:first-child > a:hover,.header2 #nav-main li.small-cube:last-child > a:hover,#sidebar fieldset.quick-login input.button2:hover,.op_navigation li.tab a:hover, .op_navigation li.tab.activetab a {
		background-color: #d03227;} 
	@media only screen and (min-width: 993px) {
		#nav-main  li.small-cube:first-child > a,
		#nav-main  li.small-cube:last-child > a {
			background-color: #d03227;
		} 
	}	

		.pm_read:before,.pm_unread:before{
		content: "\f0e0";  
	}
											</style>


<!--[if gte IE 11]>
.codebox_plus_wrap li
{
	display: block;
}

.codebox_plus_wrap li>div
{
	display: inline;
}
<![endif]-->


<link href="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/style.css" rel="stylesheet" media="screen">


<!-- EXTENSIONS CUSTOM STYLE -->
<link href="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/extensions.css" rel="stylesheet">


<script async="" src="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/analytics.js"></script><script type="text/javascript" src="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/highlight.js"></script><link type="text/css" rel="stylesheet" href="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/github-gist.css"></head>
<body id="phpbb" class="notouch section-viewtopic ltr hasjs">


<div id="main-wrap">
	<div id="wrap">
		<a id="top" class="anchor" accesskey="t"></a>
		<div id="page-header">

					
				
			<div class="headerbar" role="banner">
				<div class="inner">
					<div class="top"></div>

					<div id="site-description">
						<!-- LOGO START BELOW-->
						<a id="logo" class="logo" href="https://www.esp32.com/index.php" title="Board index">
						<img alt="ESP32 Forum" src="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/esp32.png">											
						</a>						
						<!-- LOGO END -->				 
						<p class="skiplink"><a href="#start_here">Skip to content</a></p>
					</div>									

															<div class="navbar" role="navigation">
	<div class="inner">

		<div id="responsive-menu-button">
			<a href="#"></a>
        </div>
		
		<ul id="nav-main" role="menubar">
			
			<li class="li-home"><a href="https://www.esp32.com/index.php" title="Board index"><i class="icon-home"></i><span>Home</span></a></li>
							
			<li class="has-dropdown li-useful"><a href="#"><i class="icon-lifebuoy"></i><span>Quick links</span></a>			
				<ul class="dropdown-menu" role="menu">
										<li><a href="https://www.esp32.com/app.php/help/faq" rel="help" title="Frequently Asked Questions" role="menuitem"><i class="icon-uniE09F"></i>FAQ</a></li>

					
						
												<li><a href="https://www.esp32.com/memberlist.php?mode=team" role="menuitem"><i class="icon-uniE0BA"></i>The team</a></li>
						
															
				</ul>
			</li>

			<li class="has-dropdown li-forum"><a href="#"><i class="icon-comments"></i><span>Forum</span></a>
				<ul class="dropdown-menu" role="menu">

					
										
					
												

					<li><a href="https://www.esp32.com/search.php?search_id=unanswered" role="menuitem"><i class="icon-uniE04C"></i>Unanswered topics</a></li>	

					<li><a href="https://www.esp32.com/search.php?search_id=active_topics" role="menuitem"><i class="icon-uniE03A"></i>Active topics</a></li>
											
					
					
					
										
				</ul><!-- end dropdown-menu -->
			</li>

			
			<li class="four-cubes">
							<ul>
											<li class="small-cube"><a href="https://www.esp32.com/ucp.php?mode=register" title="Register" role="menuitem"><i class="icon-upload"></i><span>Register</span></a></li>
					
					<li class="small-cube"><a href="#" title="Login" data-toggle="modal" data-target="#loginmodal" accesskey="x" role="menuitem"><i class="icon-switch"></i><span>Login</span></a></li>
					
					<li class="small-cube hide-max992 guest-link"><a href="#" title="Hello, guest !"><i class="icon-user3"></i></a></li>					

					<li class="small-cube"><a href="https://www.esp32.com/memberlist.php?mode=contactadmin" title="Contact us" role="menuitem"><i class="icon-feather"></i><span>Contact us</span></a></li>
					
									</ul>					
				
			</li>					
		</ul>

	</div>
</div>

<!-- Modal login -->
		<div class="modal fade" id="loginmodal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content cube-bg-1">
				<form method="post" action="./ucp.php?mode=login">
					<div class="modal-header">
				        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="icon-uniE0BE"></i></button> 						
				    </div>
				    
				    <div class="modal-body">
				    	<div class="modal-login-block">
				    		<div class="modal-login-header">
				    			<h2>Login</h2>
				    			<a href="https://www.esp32.com/ucp.php?mode=register" class="small-link">Register</a>
				    		</div>
				    		<div class="modal-login-content">	
				    			<fieldset class="quick-login">				    		
				    				<div class="mb20">				    					
				    					<input type="text" placeholder="" name="username" id="username" size="10" class="inputbox autowidth input-icon" title="Username">
				    				</div>
				    				<div class="mb20">				    					
				    					<input placeholder="" type="password" name="password" id="password" size="10" class="inputbox autowidth input-icon" title="Password">
				    				</div>

				    				<div class="mb10">	
				    					<a class="op-link" href="https://www.esp32.com/ucp.php?mode=sendpassword">I forgot my password</a>
				    				</div>				    								

				    								    				<div class="mb10">
				    					<label class="op-link" for="autologin">Remember me <input type="checkbox" name="autologin" id="autologin"></label>
				    				</div>		
				    				
				    				<div class="mb20">
				    					<label class="op-link" for="viewonline">Hide my online status this session <input type="checkbox" name="viewonline" id="viewonline" tabindex="5"></label>
				    				</div>	

				    				<input type="submit" name="login" value="Login" class="button2">
				    				<input type="hidden" name="redirect" value="./viewtopic.php?t=4354">

				    			</fieldset>
				    		</div>
				    	</div>	
					</div>
				</form>	

			</div>
		</div>
	</div>
	<!-- Modal login END-->										</div>
			</div>

							<div class="navbar-bottom">
				
					
										<div id="search-box" class="search-box search-header">
						<form action="./search.php" method="get" id="search">
						<fieldset>
							<input name="keywords" id="keywords" type="search" maxlength="128" title="Search for keywords" class="inputbox search tiny" size="20" placeholder="Search…">
							<button class="button icon-button search-icon" type="submit" title="Search"></button>
							<a href="https://www.esp32.com/search.php" class="button icon-button search-adv-icon" title="Advanced search"></a>
							
						</fieldset>
						</form>
					</div>
					
					<ul id="nav-breadcrumbs" class="linklist navlinks" role="menubar">
																		<li class="small-icon icon-home breadcrumbs wrapped">
																					<span class="crumb wrapped wrapped-max wrapped-wide wrapped-medium wrapped-small wrapped-tiny" itemtype="http://data-vocabulary.org/Breadcrumb" itemscope=""><a href="https://www.esp32.com/index.php" accesskey="h" data-navbar-reference="index" itemprop="url" title="Board index"><span itemprop="title">Board index</span></a></span>
																							<span class="crumb wrapped wrapped-max wrapped-wide wrapped-medium wrapped-small wrapped-tiny" itemtype="http://data-vocabulary.org/Breadcrumb" itemscope="" data-forum-id="23"><a href="https://www.esp32.com/viewforum.php?f=23" itemprop="url" title="English Forum"><span itemprop="title">English Forum</span></a></span>
																															<span class="crumb wrapped wrapped-max wrapped-wide wrapped-medium wrapped-small wrapped-tiny" itemtype="http://data-vocabulary.org/Breadcrumb" itemscope="" data-forum-id="1"><a href="https://www.esp32.com/viewforum.php?f=1" itemprop="url" title="Explore"><span itemprop="title">Explore</span></a></span>
																															<span class="crumb wrapped wrapped-max wrapped-wide wrapped-medium wrapped-small wrapped-tiny" itemtype="http://data-vocabulary.org/Breadcrumb" itemscope="" data-forum-id="2"><a href="https://www.esp32.com/viewforum.php?f=2" itemprop="url" title="General Discussion"><span itemprop="title">General Discussion</span></a></span>
																												</li>
									
					</ul>

									
			</div>
					
		</div>

		
		<a id="start_here" class="anchor"></a>
		<div id="page-body" role="main">

			
		

				

								
					


			

			
			
<h2 class="topic-title"><a href="https://www.esp32.com/viewtopic.php?f=2&amp;t=4354">ADC calibration with VREF</a></h2>


			
	

<div class="panel">
	<div class="action-bar top">

		<div class="buttons">
			
					<a href="https://www.esp32.com/posting.php?mode=reply&amp;f=2&amp;t=4354" class="button icon-button reply-icon" title="Post a reply">
				Post Reply			</a>
		
					</div>

			<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button icon-button tools-icon dropdown-trigger dropdown-select dropdown-toggle"></span>
		<div class="dropdown hidden">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																								<li class="small-icon icon-print"><a href="https://www.esp32.com/viewtopic.php?f=2&amp;t=4354&amp;view=print" title="Print view" accesskey="p">Print view</a></li>							</ul>
		</div>
	</div>

		
					<div class="search-box" role="search">
				<form method="get" id="topic-search" action="./search.php">
				<fieldset>
					<input class="inputbox search tiny" type="search" name="keywords" id="search_keywords" size="20" placeholder="Search this topic…">
					<button class="button icon-button search-icon" type="submit" title="Search">Search</button>
					<a href="https://www.esp32.com/search.php" class="button icon-button search-adv-icon" title="Advanced search">Advanced search</a>
					<input type="hidden" name="t" value="4354">
<input type="hidden" name="sf" value="msgonly">

				</fieldset>
				</form>
			</div>
		
					<div class="pagination">
				6 posts
									• Page <strong>1</strong> of <strong>1</strong>
							</div>
					</div>
</div>




	
		
		<div id="p19391" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile19391">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="https://www.esp32.com/memberlist.php?mode=viewprofile&amp;u=2937" class="username">kurtzweber</a>							</dt>

			
			
			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="https://www.esp32.com/search.php?author_id=2937&amp;sr=posts">64</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Jan 10, 2017 1:09 pm</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content19391">

			<h3 class="first"><img src="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/question.gif" alt="" width="16" height="16"> <a href="#p19391">ADC calibration with VREF</a></h3>

			
			
									<ul class="post-buttons">
																																									<li>
							<a href="https://www.esp32.com/posting.php?mode=quote&amp;f=2&amp;p=19391" title="Reply with quote" class="button icon-button quote-icon"><span>Quote</span></a>
						</li>
														<li class="responsive-menu hidden dropdown-container"><a href="javascript:void(0);" class="responsive-menu-link dropdown-toggle">&nbsp;</a><div class="dropdown hidden"><div class="pointer"><div class="pointer-inner"></div></div><ul class="dropdown-contents"></ul></div></li></ul>
					
		
		
			<p class="author"><a href="https://www.esp32.com/viewtopic.php?p=19391#p19391"><span class="imageset icon_post_target" title="Post">Post</span></a><span class="responsive-hide">by <strong><a href="https://www.esp32.com/memberlist.php?mode=viewprofile&amp;u=2937" class="username">kurtzweber</a></strong> » </span>Thu Jan 25, 2018 9:01 am </p>

		
			
			
			<div class="content">Hi all<br>
<br>
I'm trying to follow the instruction on the official documentation to calibrate the ADC:<br>
<a href="https://esp-idf.readthedocs.io/en/latest/api-reference/peripherals/adc.html" class="postlink">https://esp-idf.readthedocs.io/en/lates ... s/adc.html</a><br>
<br>
I was able to route the internal VREF to GPIO25 and read the value with a multimeter, it's 1.146V:<br>

<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code class="hljs bash" data-lang="">ESP_ERROR_CHECK(adc2_vref_to_gpio(GPIO_NUM_25));
<span class="hljs-built_in">printf</span>(<span class="hljs-string">"VREF routed to ADC2, pin 25\n"</span>);</code></pre></div>

Then I tried to develop a program which reads the value using ADC2:<br>

<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code class="hljs cpp" data-lang="">ESP_ERROR_CHECK(adc2_config_channel_atten(ADC2_CHANNEL_8, ADC_ATTEN_DB_2_5));
ESP_ERROR_CHECK(adc2_vref_to_gpio(GPIO_NUM_25));
<span class="hljs-keyword">int</span> adc2_raw_value;
ESP_ERROR_CHECK(adc2_get_raw(ADC2_CHANNEL_8, ADC_WIDTH_12Bit, &amp;adc2_raw_value));
<span class="hljs-built_in">printf</span>(<span class="hljs-string">"Raw value from ADC2: %d\n"</span>, adc2_raw_value);
<span class="hljs-keyword">float</span> voltage = <span class="hljs-number">1.5</span> * adc2_raw_value / <span class="hljs-number">4095</span>;
<span class="hljs-built_in">printf</span>(<span class="hljs-string">"Voltage: %.4f\n"</span>, voltage);</code></pre></div>

but the value read is very different from the one I see on the 
multimeter (1.260V). I tried different attenuation values but the 
calculated voltage is always different (greater)... I also used 0db 
attenuation but in that case (as expected) the ADC saturates to 4095.<br>
<br>
Am I missing something? Is this the correct way to do what is explained in the doc:<br>

<blockquote class="uncited"><div>Routing ADC reference voltage to GPIO, so it can be manually measured and entered in function esp_adc_cal_get_characteristics():</div></blockquote>

I also gave a look to the example provided:<br>
<a href="https://github.com/espressif/esp-idf/blob/2a10ffce5fd17761c420012bf1a53c84194febfb/examples/peripherals/adc/main/adc1_example_main.c" class="postlink">https://github.com/espressif/esp-idf/bl ... ple_main.c</a><br>
<br>
but it doesn't seem to read the vref value if V_REF_TO_GPIO is defined, it only routes the value to the pin:<br>

<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code class="hljs cpp" data-lang=""><span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span>
    <span class="hljs-comment">//Get v_ref</span>
    <span class="hljs-keyword">esp_err_t</span> status;
    status = adc2_vref_to_gpio(GPIO_NUM_25);
    <span class="hljs-keyword">if</span> (status == ESP_OK){
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"v_ref routed to GPIO\n"</span>);
    }<span class="hljs-keyword">else</span>{
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"failed to route v_ref\n"</span>);
    }
    fflush(<span class="hljs-built_in">stdout</span>);
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span></code></pre></div>

Thanks!</div>

			
									
									
						</div>

		</div>

		<div class="back2top"><a href="#top" class="top" title="Top">Top</a></div>

		</div>
	</div>

				
	<hr class="divider">
		
		
		<div id="p19407" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile19407">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="https://www.esp32.com/memberlist.php?mode=viewprofile&amp;u=239" class="username">WiFive</a>							</dt>

			
			
			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="https://www.esp32.com/search.php?author_id=239&amp;sr=posts">3164</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Dec 01, 2015 7:35 am</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content19407">

			<h3><a href="#p19407">Re: ADC calibration with VREF</a></h3>

			
			
									<ul class="post-buttons">
																																									<li>
							<a href="https://www.esp32.com/posting.php?mode=quote&amp;f=2&amp;p=19407" title="Reply with quote" class="button icon-button quote-icon"><span>Quote</span></a>
						</li>
														<li class="responsive-menu hidden dropdown-container"><a href="javascript:void(0);" class="responsive-menu-link dropdown-toggle">&nbsp;</a><div class="dropdown hidden"><div class="pointer"><div class="pointer-inner"></div></div><ul class="dropdown-contents"></ul></div></li></ul>
					
		
		
			<p class="author"><a href="https://www.esp32.com/viewtopic.php?p=19407#p19407"><span class="imageset icon_post_target" title="Post">Post</span></a><span class="responsive-hide">by <strong><a href="https://www.esp32.com/memberlist.php?mode=viewprofile&amp;u=239" class="username">WiFive</a></strong> » </span>Thu Jan 25, 2018 12:09 pm </p>

		
			
			
			<div class="content">Once you read the voltage with a meter then you go here <a href="https://esp-idf.readthedocs.io/en/latest/api-reference/peripherals/adc.html#example-of-reading-calibrated-values" class="postlink">https://esp-idf.readthedocs.io/en/lates ... ted-values</a></div>

			
									
									
						</div>

		</div>

		<div class="back2top"><a href="#top" class="top" title="Top">Top</a></div>

		</div>
	</div>

	
	<hr class="divider">
		
		
		<div id="p19408" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile19408">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="https://www.esp32.com/memberlist.php?mode=viewprofile&amp;u=2937" class="username">kurtzweber</a>							</dt>

			
			
			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="https://www.esp32.com/search.php?author_id=2937&amp;sr=posts">64</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Jan 10, 2017 1:09 pm</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content19408">

			<h3><a href="#p19408">Re: ADC calibration with VREF</a></h3>

			
			
									<ul class="post-buttons">
																																									<li>
							<a href="https://www.esp32.com/posting.php?mode=quote&amp;f=2&amp;p=19408" title="Reply with quote" class="button icon-button quote-icon"><span>Quote</span></a>
						</li>
														<li class="responsive-menu hidden dropdown-container"><a href="javascript:void(0);" class="responsive-menu-link dropdown-toggle">&nbsp;</a><div class="dropdown hidden"><div class="pointer"><div class="pointer-inner"></div></div><ul class="dropdown-contents"></ul></div></li></ul>
					
		
		
			<p class="author"><a href="https://www.esp32.com/viewtopic.php?p=19408#p19408"><span class="imageset icon_post_target" title="Post">Post</span></a><span class="responsive-hide">by <strong><a href="https://www.esp32.com/memberlist.php?mode=viewprofile&amp;u=2937" class="username">kurtzweber</a></strong> » </span>Thu Jan 25, 2018 12:17 pm </p>

		
			
			
			<div class="content">Hi<br>
<br>
thanks for your reply... I was able indeed to use the read value in:<br>
esp_adc_cal_get_characteristics(V_REF, ADC_ATTEN_DB_11, ADC_WIDTH_BIT_12, &amp;characteristics);<br>
<br>
but this method assumes you measure the voltage for each board you 
program and adapt the code accordingly... I was looking for a 
"software-only" method and reading the VREF with ADC2 seemed a good 
approach... but I cannot get good values.</div>

			
									
									
						</div>

		</div>

		<div class="back2top"><a href="#top" class="top" title="Top">Top</a></div>

		</div>
	</div>

	
	<hr class="divider">
		
		
		<div id="p19409" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile19409">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="https://www.esp32.com/memberlist.php?mode=viewprofile&amp;u=239" class="username">WiFive</a>							</dt>

			
			
			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="https://www.esp32.com/search.php?author_id=239&amp;sr=posts">3164</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Dec 01, 2015 7:35 am</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content19409">

			<h3><a href="#p19409">Re: ADC calibration with VREF</a></h3>

			
			
									<ul class="post-buttons">
																																									<li>
							<a href="https://www.esp32.com/posting.php?mode=quote&amp;f=2&amp;p=19409" title="Reply with quote" class="button icon-button quote-icon"><span>Quote</span></a>
						</li>
														<li class="responsive-menu hidden dropdown-container"><a href="javascript:void(0);" class="responsive-menu-link dropdown-toggle">&nbsp;</a><div class="dropdown hidden"><div class="pointer"><div class="pointer-inner"></div></div><ul class="dropdown-contents"></ul></div></li></ul>
					
		
		
			<p class="author"><a href="https://www.esp32.com/viewtopic.php?p=19409#p19409"><span class="imageset icon_post_target" title="Post">Post</span></a><span class="responsive-hide">by <strong><a href="https://www.esp32.com/memberlist.php?mode=viewprofile&amp;u=239" class="username">WiFive</a></strong> » </span>Thu Jan 25, 2018 12:21 pm </p>

		
			
			
			<div class="content">ADC2 is just as uncalibrated as ADC1.  So yes 
you need an external calibration value per each chip until they start 
doing it at the factory.</div>

			
									
									
						</div>

		</div>

		<div class="back2top"><a href="#top" class="top" title="Top">Top</a></div>

		</div>
	</div>

	
	<hr class="divider">
		
		
		<div id="p19414" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile19414">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="https://www.esp32.com/memberlist.php?mode=viewprofile&amp;u=2937" class="username">kurtzweber</a>							</dt>

			
			
			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="https://www.esp32.com/search.php?author_id=2937&amp;sr=posts">64</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue Jan 10, 2017 1:09 pm</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content19414">

			<h3><a href="#p19414">Re: ADC calibration with VREF</a></h3>

			
			
									<ul class="post-buttons">
																																									<li>
							<a href="https://www.esp32.com/posting.php?mode=quote&amp;f=2&amp;p=19414" title="Reply with quote" class="button icon-button quote-icon"><span>Quote</span></a>
						</li>
														<li class="responsive-menu hidden dropdown-container"><a href="javascript:void(0);" class="responsive-menu-link dropdown-toggle">&nbsp;</a><div class="dropdown hidden"><div class="pointer"><div class="pointer-inner"></div></div><ul class="dropdown-contents"></ul></div></li></ul>
					
		
		
			<p class="author"><a href="https://www.esp32.com/viewtopic.php?p=19414#p19414"><span class="imageset icon_post_target" title="Post">Post</span></a><span class="responsive-hide">by <strong><a href="https://www.esp32.com/memberlist.php?mode=viewprofile&amp;u=2937" class="username">kurtzweber</a></strong> » </span>Thu Jan 25, 2018 12:54 pm </p>

		
			
			
			<div class="content">Undestood, thanks!</div>

			
									
									
						</div>

		</div>

		<div class="back2top"><a href="#top" class="top" title="Top">Top</a></div>

		</div>
	</div>

	
	<hr class="divider">
		
		
		<div id="p47679" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile47679">
			<dt class="no-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="https://www.esp32.com/memberlist.php?mode=viewprofile&amp;u=9997" class="avatar"><img class="avatar" src="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/file.jpg" alt="User avatar" width="81" height="90"></a>														</div>
								<a href="https://www.esp32.com/memberlist.php?mode=viewprofile&amp;u=9997" class="username">HelWeb</a>							</dt>

			
			
			
		<dd class="profile-posts"><strong>Posts:</strong> <a href="https://www.esp32.com/search.php?author_id=9997&amp;sr=posts">36</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Sat Mar 23, 2019 8:39 am</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content47679">

			<h3><a href="#p47679">Re: ADC calibration with VREF</a></h3>

			
			
									<ul class="post-buttons">
																																									<li>
							<a href="https://www.esp32.com/posting.php?mode=quote&amp;f=2&amp;p=47679" title="Reply with quote" class="button icon-button quote-icon"><span>Quote</span></a>
						</li>
														<li class="responsive-menu hidden dropdown-container"><a href="javascript:void(0);" class="responsive-menu-link dropdown-toggle">&nbsp;</a><div class="dropdown hidden"><div class="pointer"><div class="pointer-inner"></div></div><ul class="dropdown-contents"></ul></div></li></ul>
					
		
		
			<p class="author"><a href="https://www.esp32.com/viewtopic.php?p=47679#p47679"><span class="imageset icon_post_target" title="Post">Post</span></a><span class="responsive-hide">by <strong><a href="https://www.esp32.com/memberlist.php?mode=viewprofile&amp;u=9997" class="username">HelWeb</a></strong> » </span>Sat Aug 10, 2019 8:20 pm </p>

		
			
			
			<div class="content">Maybe you may want to test:<br>
<br>
esp32.com/viewtopic.php?f=19&amp;t=2881&amp;start=30<br>
<br>
Posted: Sat Aug 10, 2019 12:30 pm<br>
<br>
You may calibrate your own ESP32( the nonlinear 11DB curve) with this program.&lt;br&gt;<br>
All you need is a wire from pin 25 to pin 35 and a normal voltmeter.&lt;br&gt;<br>
<br>
Calibration is done automatically.&lt;br&gt;<br>
It produces a LookUpTable[4096] to correct your values like: &lt;br&gt;<br>
CalibratedValue = LookUpTable[Read Value];&lt;br&gt;<br>
<br>
I do NOT use a fitted curve but a real LookUpTable with 4096 values !<br>
<br>
I get correct values +/- 0.01V compared to the voltmeter.  <img class="smilies" src="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/icon_e_biggrin.gif" alt=":D" title="Very Happy" width="15" height="17"></div>

			
									
									<div id="sig47679" class="signature">Fast is not fast enough  <img class="smilies" src="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/icon_e_biggrin.gif" alt=":D" title="Very Happy" width="15" height="17"></div>
						</div>

		</div>

		<div class="back2top"><a href="#top" class="top" title="Top">Top</a></div>

		</div>
	</div>

				
	<hr class="divider">
	

<div class="panel">
	<form id="viewtopic" method="post" action="./viewtopic.php?f=2&amp;t=4354">
	<fieldset class="display-options">
				<label>Display posts from previous: <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select></label>
		<label>Sort by <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select></label> <label><select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select></label>
		<input type="submit" name="sort" value="Go" class="button2">
			</fieldset>
	</form>
</div>

<div class="panel">
		<div class="action-bar bottom">
		<div class="buttons">
			
					<a href="https://www.esp32.com/posting.php?mode=reply&amp;f=2&amp;t=4354" class="button icon-button reply-icon" title="Post a reply">
				Post Reply			</a>
		
					</div>

			<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button icon-button tools-icon dropdown-trigger dropdown-select dropdown-toggle"></span>
		<div class="dropdown hidden">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																								<li class="small-icon icon-print"><a href="https://www.esp32.com/viewtopic.php?f=2&amp;t=4354&amp;view=print" title="Print view" accesskey="p">Print view</a></li>							</ul>
		</div>
	</div>

		
		
					<div class="pagination">
				6 posts
									• Page <strong>1</strong> of <strong>1</strong>
							</div>
				<div class="clear"></div>
	</div>

	
	
	<p class="jumpbox-return"><a href="https://www.esp32.com/viewforum.php?f=2" class="left-box arrow-left" accesskey="r">Return to “General Discussion”</a></p>


	<div class="dropdown-container dropdown-container-right dropdown-up dropdown-left dropdown-button-control" id="jumpbox">
		<span title="Jump to" class="dropdown-trigger button dropdown-select dropdown-toggle">
			Jump to		</span>
		<div class="dropdown hidden">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																			<li><a href="https://www.esp32.com/viewforum.php?f=23">English Forum</a></li>
																<li>&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=1">Explore</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=10">News</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=2">General Discussion</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=16">FAQ</a></li>
																<li>&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=7">Documentation</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=5">Documentation</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=18">Sample Code</a></li>
																<li>&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=11">Discussion Forum</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=12">Hardware</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=13">ESP-IDF</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=20">ESP-ADF</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=21">ESP-MDF</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=32">ESP-WHO</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=39">ESP-SkaiNet</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=19">ESP32 Arduino</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=40">IDEs for ESP-IDF</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=22">ESP IoT Solution</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=41">ESP RainMaker</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=14">Report Bugs</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=17">Showcase</a></li>
																<li><a href="https://www.esp32.com/viewforum.php?f=24">Chinese Forum 中文社区</a></li>
																<li>&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=27">讨论区</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=25">ESP-IDF 中文讨论版</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=35">ESP IoT Solution 中文讨论版</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=33">ESP Cloud 中文讨论版</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=29">ESP-MDF 中文讨论版</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=34">ESP-AT 中文讨论版</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=31">ESP-WHO 中文讨论版</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=28">ESP-ADF 中文讨论版</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=38">ESP-SkaiNet 中文讨论版</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=37">ESP 生产支持讨论版</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=30">硬件问题讨论</a></li>
																<li>&nbsp; &nbsp;&nbsp; &nbsp;<a href="https://www.esp32.com/viewforum.php?f=36">项目展示</a></li>
										</ul>
		</div>
	</div>

</div>

	<div class="stat-block online-list">
		<h3>Who is online</h3>
		<p>Users browsing this forum: <span style="color: #9E8DA7;" class="username-coloured">Baidu [Spider]</span>, <span style="color: #9E8DA7;" class="username-coloured">Bing [Bot]</span> and 31 guests</p>
	</div>

							
								
					
		</div>	
			

		<div id="page-footer" class="light-footer" role="contentinfo">

			<div class="navbar" role="navigation">
	<div class="inner">

	<ul id="nav-footer" class="linklist bulletin" role="menubar">

				<li class="time-zone" data-last-responsive="true">All times are <span title="UTC">UTC</span></li>
				<li class="responsive-menu hidden rightside dropdown-container"><a href="javascript:void(0);" class="responsive-menu-link dropdown-toggle">&nbsp;</a><div class="dropdown hidden"><div class="pointer"><div class="pointer-inner"></div></div><ul class="dropdown-contents"></ul></div></li><li class="small-icon icon-uniE0FC rightside" data-last-responsive="true"><a class="go-top" href="#">Top</a></li>
					<li class="small-icon icon-delete-cookies rightside"><a href="https://www.esp32.com/ucp.php?mode=delete_cookies" data-ajax="true" data-refresh="true" role="menuitem">Delete cookies</a></li>			
		
				
				
	</ul>

	</div>
</div>
			
						<div class="content_footer columns_33">
	<div>
		<h3>About Us</h3>
		<p>Espressif Systems is a fabless semiconductor company providing 
cutting-edge low power WiFi SoCs and wireless solutions for wireless 
communications and Internet of Things applications. ESP8266EX and ESP32 
are some of our products. 
		</p>
	</div>				

	<div>
		<h3>Extra</h3>
		<ul>
			<li><i class="icon-uniE0FD"></i><a href="http://espressif.com/">Espressif Homepage</a></li>
			<li><i class="icon-uniE0FD"></i><a href="http://bbs.espressif.com/">ESP8266EX Official Forum</a></li>
			<li><i class="icon-uniE0FD"></i><a href="http://esp8266.com/">ESP8266 Community Forum</a></li>
		</ul>
	</div>

	<div>
		<h3>Information</h3>
		<ul>
			<li><i class="icon-uniE0FD"></i><a href="https://www.esp32.com/ucp.php?mode=terms">Terms of use</a></li>
			<li><i class="icon-uniE0FD"></i><a href="https://www.esp32.com/ucp.php?mode=privacy">Privacy policy</a></li>
			<li><i class="icon-uniE0FD"></i><a href="https://www.esp32.com/app.php/help/faq" rel="help">FAQ</a></li>

									
						<li><i class="icon-uniE0FD"></i><a href="https://www.esp32.com/memberlist.php?mode=team">The team</a></li>
			
						<li><i class="icon-uniE0FD"></i><a href="https://espressif.com/en/company/contact/pre-sale-questions-crm">Contact us</a></li>
						    		
		</ul>
	</div>

</div>
						
				
			<div class="copyright">
				<div class="copyright-inner">
										Espressif ESP32 ... Available now!
														</div>

				<div class="socials"> 
					<ul>
												<li><a href="https://www.facebook.com/esp8266wifi" title="Follow us on facebook"><i class="icon-facebook"></i></a></li>												<li><a href="https://twitter.com/espressifsystem" title="Follow us on twitter"><i class="icon-twitter"></i></a></li>																											
					</ul>					
				</div>		
				
			</div>

			<div id="darkenwrapper" data-ajax-error-title="AJAX error" data-ajax-error-text="Something went wrong when processing your request." data-ajax-error-text-abort="User aborted request." data-ajax-error-text-timeout="Your request timed out; please try again." data-ajax-error-text-parsererror="Something went wrong with the request and the server returned an invalid reply.">
				<div id="darken">&nbsp;</div>
			</div>
			

			<div id="phpbb_alert" class="phpbb_alert" data-l-err="Error" data-l-timeout-processing-req="Request timed out.">
				<a href="#" class="alert_close"></a>
				<h2 class="alert_title">&nbsp;</h2><p class="alert_text"></p>
			</div>
			<div id="phpbb_confirm" class="phpbb_alert">
				<a href="#" class="alert_close"></a>
				<div class="alert_text"></div>
			</div>
		</div>

	</div>
</div>

<div style="display:none;">
	<a id="bottom" class="anchor" accesskey="z"></a>
	</div>

<script type="text/javascript" src="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/jquery.js"></script>
<script type="text/javascript" src="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/core.js"></script>


<script type="text/javascript" src="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/custom.js"></script>
<script type="text/javascript" src="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/custom_002.js"></script>





<script src="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/script.js"></script>
<script src="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/forum_fn.js"></script>
<script src="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/ajax.js"></script>
<script src="ADC%20calibration%20with%20VREF%20-%20ESP32%20Forum_arquivos/init.js"></script>



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-86662413-1', 'auto');
  ga('send', 'pageview');
</script>



</body></html>